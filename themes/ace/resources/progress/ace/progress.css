$indeterminate_anim_duration: 1s;

$theme.progress {
  border: 0 none;
  .track {
    position: absolute;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;

    @include slices("progress_view_track.png", $left: 1, $right: 1);
  }

  .content {
    position: absolute;
    left: 0;
    top: 0;
    bottom: 0;

    /* width set in rendering */
    @include slices("progress_view_content.png", $left: 1, $right: 1);
  }

  &.indeterminate {

    /* Because the middle image is so wide, it adds a lot of wasted space if part
      of the repeating sprite, so include it separately. */
    .content {
      .middle {
        background: sc_static("progress_view_indeterminate_content.png") repeat-x;
        animation-name: _sc_progressview_indeterminate;
        animation-duration:$indeterminate_anim_duration;
        animation-direction: normal;
        animation-timing-function:linear;
        animation-play-state:paused;
        animation-iteration-count: infinite;
      }
    }

    &.running {
      .content {
        .middle {
          animation-play-state:running;
        }
      }
    }
  }

  &.disabled {
    opacity: .5;
  }
}


@keyframes _sc_progressview_indeterminate {
    0% {
        background-position:0px 0;
    }
    100% {
        background-position:42px 0;
    }
}
